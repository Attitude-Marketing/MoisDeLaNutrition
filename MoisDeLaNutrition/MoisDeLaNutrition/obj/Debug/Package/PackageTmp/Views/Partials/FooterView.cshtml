@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@using ContentModels = Umbraco.Web.PublishedContentModels;
@{
    var currentLang = Umbraco.Field("#CurrentLanguage").ToString();
    var pageNode = Model.Content;
    var siteid = UmbracoHelpers.GetSiteId(Request.Url.Host);
    var lang = Umbraco.Field("#CurrentLanguage").ToString().ToLower();
    var alt = String.Format("alt{0}", lang);

    var brandNode = Umbraco.TypedContent(siteid);
    var langNode = brandNode.Children.FirstOrDefault(x => x.Name.ToLower() == Umbraco.Field("#CurrentLanguage").ToString().ToLower());

    var footerEntrezCourriel = Umbraco.GetDictionaryValue("footerEntrezCourriel");
    var footerSoumettre = langNode.GetPropertyValue<string>("panelBtnLabel");
    
}
<footer id="footer">
    <div class="container-fluid p-0">
        @if (pageNode.DocumentTypeAlias.ToLower() == "nutritionfact" || pageNode.DocumentTypeAlias.ToLower() == "profile")
        {

            var imageNext = pageNode.GetPropertyValue<IPublishedContent>("imageNext");
            var imageNextUrl = "/images/placeholders/placeholder-vertical.jpg";

            if (imageNext != null)
            {
                imageNextUrl = imageNext.Url;
            }

            var nextNode = pageNode.Next();

            if (nextNode == null)
            {
                nextNode = pageNode.Parent.Children.FirstOrDefault();
            }

            if (nextNode != null)
            {
                var nextNodeUrl = nextNode.Url;
                var nextTitle = nextNode.GetPropertyValue<string>("pageTitle");
                var next = pageNode.DocumentTypeAlias == "profile" ? Umbraco.Field("NextProfile") : Umbraco.Field("#NextFact");

                <div class="row no-gutters row-eq-height followingContent" style="background-color: @(nextNode.GetPropertyValue<string>("profileColor"))">
                    <div class="col-12 col-md-7">
                        <div id="followingContentImg" style="background: url('@imageNextUrl'); background-repeat:no-repeat; background-position:center center; background-size:cover;"></div>
                    </div>
                    <div class="col-12 col-md-4">
                        <a href="@nextNodeUrl" target="_self" id="followingContentxtContainer">
                            <div id="followingContentTxt">
                                <p id="followingContentTagline">@next</p>
                                <p id="followingContentTitle">@nextTitle</p>
                            </div>
                            <div id="followingContentArrow">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path class="arrow" d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z" /></svg>
                            </div>
                        </a>
                    </div>
                </div>
            }
        }
        <div class="row no-gutters row-eq-height">
            <div class="col-12 col-md-5 order-2 order-md-1">
                <div id="footerLeft">
                    <div class="footerContent">
                        <div id="footerNav">
                            <ul>
                                @* AJOUTER LA CLASSE CURRENT AU LI QUI CORRESPOND À LA PAGE ACTUEL *@
                                @foreach (var menuItem in langNode.GetPropertyValue<IEnumerable<IPublishedContent>>("mainMenu"))
                                {
                                    var activeClass = "";
                                    if (menuItem.Id == pageNode.Id)
                                    {
                                        activeClass = "class=current";
                                    }
                                    <li @activeClass><a href="@(menuItem.Url)">@(menuItem.GetPropertyValue<string>("menuTitle"))</a></li>
                                }
                            </ul>
                        </div>
                        <div id="footerLogo">
                            @Html.Partial("~/Views/Partials/dfcSvg.cshtml")
                            <p id="copyright">@(Umbraco.Field("#dairyFarmers"))</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-7 order-1 order-md-2">
                <div id="footerRight">
                    @if (langNode.GetPropertyValue<bool>("panelDisplay") == true)
                    {
                        <div class="footerContent footerNewsletter">
                            <p id="fnTitle" class="noBrMobile">@(langNode.GetPropertyValue<string>("panelTitle"))</p>
                            <p id="fnText">@(langNode.GetPropertyValue<HtmlString>("panelText"))</p>
                            <form id="newsletter-form" class="newsletter-form" data-mssg="@(Umbraco.Field("#Empty"))" data-ajfail="@Umbraco.Field("#AjaxFail")" data-thks="@(Umbraco.Field("#NewsletterThanks"))">
                                <input type="text" id="email" name="email" placeholder="@footerEntrezCourriel" data-invalid="@(Umbraco.Field("#Invalid"))">
                                <button type="submit" id="submitNewsletter">@footerSoumettre <span id="submitArrow">→</span></button>
                            </form>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</footer>